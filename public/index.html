<!DOCTYPE html>
<html>
  <head>
    <script src="angular.min.js"></script>
    <script src="app.js"></script>
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css"/>
  </head>

  <body ng-app="coup" ng-controller="GameCtrl">

    <div class="container">

      <div class="row">
        <div ng-repeat="card in game.hand.cards track by $index" class="col-sm-3">
          <div style="padding:20px;background:#eee;font-size:20px">{{ card.type }}</div>
          <button class="btn btn-danger" ng-click="returnCard(card)" ng-if="ambassadorSwapping">Return this card</button>
          <button ng-if="!ambassadorSwapping && !card.lost"
            ng-click="loseCard(card)" class="btn btn-default btn-mini">Lose Influence</button>
          <div ng-if="card.lost">INFLUENCE LOST</div>
        </div>
        <div ng-if="!ambassadorSwapping" class="col-sm-3">
          <button ng-click="startSwap()" class="btn btn-primary">Initiate Ambassador Swap</button>
          <hr/>
        </div>
      </div>

      <hr/>


      <h2>Money: {{ game.hand.money }}</h2>

      <br/>

        <button class="btn btn-success" ng-click="addMoney(1)" ng-disabled="canAdd(1)">+1</button>
        <button class="btn btn-success" ng-click="addMoney(2)" ng-disabled="canAdd(2)">+2</button>
        <button class="btn btn-success" ng-click="addMoney(3)" ng-disabled="canAdd(3)">+3</button>
        <button class="btn btn-danger" ng-click="addMoney(-2)" ng-disabled="canAdd(-2)">-2</button>
        <button class="btn btn-danger" ng-click="addMoney(-3)" ng-disabled="canAdd(-3)">-3</button>
        <button class="btn btn-danger" ng-click="addMoney(-7)" ng-disabled="canAdd(-7)">-7</button>

      <hr/>

      <h2>Table</h2>

      <table class="table">
        <thead>
          <th>Token</th>
          <th>Money</th>
          <th>Lost Influence</th>
        </thead>
        <tbody>
          <tr ng-repeat="player in game.players">
            <td>{{ player.token }}</td>
            <td>{{ player.money }}</td>
            <td>{{ player.card_types.join(', ') }}</td>
          </tr>
        </tbody>
      </table>

      <hr/>

      <small>
        Current Deck Size: {{ game.deck_size }}
        <br/>
        <button ng-click="resetGame()" class="btn btn-xs btn-danger">New Game</button>
      </small>

    </div>
  </body>
</html>
